<!DOCTYPE html>
<html lang="en">
<header th:replace="tools/package :: #package-include"></header>
<header th:replace="tools/header :: #header-include"></header>
<body>
<div class="container mt-5 mb-3">
    <div th:replace="tools/Messages :: #messages-fragment"></div>
    <div class="row d-flex align-items-center mb-2">
        <div class="col d-flex justify-content-start mb-2">
            <a th:href="@{'/profile/' + ${username}}">
                <button type="button" class="btn btn-primary">
                    <i class="bi bi-arrow-left"></i> Atrás
                </button>
            </a>
        </div>
    </div>
    <div class="card p-3 mb-3" th:each="modules : ${ModuleDtoList}">
        <div class="d-flex justify-content-between" style="cursor: pointer">
            <h4 data-bs-toggle="collapse" th:attr="data-bs-target='#collapse-' + ${modules.id}"
                th:text="${modules.moduleName}"></h4>
            <div>
                <div th:if="${modules.completed == true}">
                    <i class="bi bi-clipboard-check" style="color: limegreen; font-size: 20px"></i>
                </div>
                <div th:if="${modules.completed == false}">
                    <i class="bi bi-clipboard2-x" style="color: orangered; font-size: 20px"></i>
                </div>
                <div th:if="${modules.completed == null}">
                    <i class="bi bi-clipboard-minus" style="color: #1d70a2; font-size: 20px"></i>
                </div>
            </div>
        </div>
        <div th:id="'collapse-' + ${modules.id}" class="collapse" aria-labelledby="headingOne">
            <div th:each="content : ${modules.contentList}">
                <a th:href="@{'/course/' + ${courseId} +'/module/'+${modules.id} +'/learn/' + ${content.contentId}(contenttype=${content.contentType})}"
                   style="text-decoration: none;">
                    <div class="card p-3 mt-3 text-dark" style="background-color: #dedede">
                        <div class="d-flex justify-content-between"
                             style="cursor: pointer; color: #173753">
                            <div th:if="${content.contentType == 'puzzle'}">
                                <h4>
                                    <i class="bi bi-puzzle" style="color:limegreen;"></i>
                                    <span th:text="${content.contentName}"></span>
                                </h4>
                            </div>
                            <div th:if="${content.contentType == 'select'}">
                                <h4>
                                    <i class="bi bi-question-lg" style="color: orangered "></i>
                                    <span th:text="${content.contentName}"></span>
                                </h4>
                            </div>
                            <div th:if="${content.contentType == 'teoric'}">
                                <h4>
                                    <i class="bi bi-file-text" style="color: #1d70a2"></i>
                                    <span th:text="${content.contentName}"></span>
                                </h4>
                            </div>
                            <div>
                                <div th:if="${content.completed == true}">
                                    <i class="bi bi-clipboard-check" style="color: limegreen; font-size: 20px"></i>
                                </div>
                                <div th:if="${content.completed == false}">
                                    <i class="bi bi-clipboard2-x" style="color: orangered; font-size: 20px"></i>
                                </div>
                                <div th:if="${content.completed == null}">
                                    <i class="bi bi-clipboard-minus" style="color: #1d70a2; font-size: 20px"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div th:if="${commentDtoForm.creation_date == null}" class="card p-3 mb-3" style="background-color: #f0f0f0">
        <div class="row align-content-center">
            <div class="col">
                <h6>No has añadido ningún comentario para el curso</h6>
            </div>
            <div class="col d-flex justify-content-end">
                <button type="button" class="btn btn-info" href="#addcommentModal" data-bs-toggle="modal">Añadir
                    comentario
                </button>
            </div>
        </div>
    </div>
    <div th:replace="addcomment :: #addcommentModal"></div>
    <script>
        function getGrade() {
            const inputGrade = document.getElementById("inputGrade");
            document.querySelectorAll('.grade input').forEach(input => {
                if (input.checked) {
                    inputGrade.field = parseInt(input.value);

                }
            });
            alert(inputGrade.field);
        }
    </script>
</div>
<footer th:replace="tools/footer :: #footer-include"></footer>
</body>
</html>